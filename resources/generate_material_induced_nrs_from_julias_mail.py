



"""
This file was written to convert Julia's more recent data, which I received via mail, into .csv files that SFS would automatically incorporate.


Julia's mail, sent on 27th December 2022:


Hi Daniel,

sorry f√ºr die Versp√§tung ‚Äì ich habs jetzt endlich geschafft, deine Arbeit fertig zu lesen und ich mags wirklich sehr! Ich habe wirklich nichts Gravierendes gefunden, nur so ein paar kleine Fehlerchen und Zeugs, was ich vielleicht anders machen w√ºrde. Wie immer: Ist nur ein Denkansto√ü und es ist deine Arbeit, also mach, was du willst üòâ
Es gibt nur eine Sache, wo ich dir ‚Äûneue‚Äú Daten geben w√ºrde: Bei dem Neutron-NR-Background auf der drittletzten Seite hattest du wohl einen sehr alten Datensatz, in dem ich noch einen Fehler bei der Eventselektion hatte. Dieser leichte Bump bei 50keV sollte damit weg sein. Die ‚Äûneuen‚Äú Daten (die auch so in meiner Arbeit sind), siehst du hier:

Neutron_baseline = np.asarray([8.09221119e-04, 8.31871191e-03, 5.83137730e-03, 3.82525361e-03,2.76604318e-03, 2.26129394e-03, 1.70446212e-03, 1.34006818e-03,1.17574450e-03, 1.06087376e-03, 9.64208970e-04, 8.90957610e-04,8.16549163e-04, 8.79589349e-04, 7.04846757e-04, 6.29818844e-04,7.86016614e-04, 6.16472301e-04, 5.24432408e-04, 4.71841361e-04,5.29304476e-04, 4.07885844e-04, 4.16958443e-04, 3.90780292e-04,3.52902859e-04, 4.12992583e-04, 3.31102287e-04, 3.13121405e-04,3.22595661e-04, 2.76422885e-04, 3.12469214e-04, 2.83889002e-04,2.73838127e-04, 2.97623884e-04, 2.02451144e-04, 2.64546428e-04,2.51020735e-04, 2.88712416e-04, 2.43486047e-04, 1.86816346e-04,2.39981736e-04, 2.41776287e-04, 2.01560473e-04, 2.04044726e-04,1.15197913e-04, 1.48061764e-04, 1.55639293e-04, 1.71203060e-04,1.55398146e-04, 2.51661249e-04, 1.86896221e-04, 2.15500798e-04,1.99653658e-04, 1.97009358e-04, 2.14091344e-04, 1.66696663e-04,1.65139006e-04, 1.73238153e-04, 1.11762317e-04, 1.23994609e-04,1.55592628e-04, 1.01310944e-04, 1.30707866e-04, 6.08538256e-05,5.61864862e-05, 4.82108132e-05, 8.22917649e-05, 6.99906294e-05,6.55963685e-05, 6.21768102e-05, 6.61299656e-05, 9.63390264e-05,4.12931448e-05, 2.22717200e-05, 7.71709093e-05, 6.71275911e-05,6.36231772e-05, 2.14666098e-05, 6.47328868e-05, 5.46312077e-05,6.56424601e-05, 5.88830503e-05, 2.25617580e-05, 4.35822358e-05,3.22267682e-05, 4.17083425e-05, 2.87919313e-05, 2.81953507e-05,3.69969601e-05, 1.79897371e-05, 1.41704538e-05, 3.43872295e-05,3.52408143e-05, 4.25085216e-05, 2.58296892e-05, 2.17310745e-05,1.30848732e-05, 3.75114903e-05, 1.59902279e-05, 2.87837262e-05]) ### das sind die Daten von unserem bisherigen Stand
Neutron_lessPTFE_PMT = np.asarray([5.03674706e-04, 5.01451796e-03, 3.35307671e-03, 2.15287429e-03,1.60172253e-03, 1.36477353e-03, 9.61424545e-04, 6.73419815e-04,6.77678177e-04, 6.10216700e-04, 5.73593070e-04, 4.81963980e-04,4.84174276e-04, 4.95754558e-04, 4.20028011e-04, 3.67768837e-04,4.68997504e-04, 2.97492206e-04, 2.71591236e-04, 2.66651942e-04,2.71446425e-04, 1.72062283e-04, 1.58935473e-04, 1.74654201e-04,1.60317353e-04, 1.75254747e-04, 1.43722657e-04, 1.59054470e-04,1.29047396e-04, 1.24074942e-04, 1.65527450e-04, 1.26618846e-04,1.39745820e-04, 1.36920240e-04, 1.06381218e-04, 1.20805263e-04,1.05077545e-04, 1.35218251e-04, 1.18974079e-04, 6.79698658e-05,1.42068643e-04, 1.24573542e-04, 7.33198946e-05, 9.38113563e-05,7.98944058e-05, 4.19460694e-05, 6.69686204e-05, 6.71872751e-05,7.38168868e-05, 1.41905882e-04, 8.38635404e-05, 1.16136912e-04,9.42025112e-05, 7.69754618e-05, 9.57387112e-05, 4.89446829e-05,7.02924084e-05, 1.06997460e-04, 4.03683554e-05, 4.26659076e-05,9.07112906e-05, 4.59171280e-05, 4.83850743e-05, 2.07435658e-05,3.01092100e-05, 2.27682613e-05, 4.21597294e-05, 3.27748782e-05,2.30944945e-05, 3.39071913e-05, 1.32096618e-05, 6.49327576e-05,7.62272697e-06, 8.50409373e-06, 5.76110014e-05, 3.75590170e-05,3.06519889e-05, 9.73369953e-06, 2.53476297e-05, 1.32806671e-05,4.52955688e-05, 3.15406293e-05, 1.81090674e-05, 2.57693257e-05,7.85968667e-06, 1.64668833e-05, 8.58792597e-06, 8.63681977e-06,8.41528399e-06, 1.64723504e-05, 5.58748071e-06, 1.74297633e-05,1.94984381e-05, 8.17837337e-06, 8.87597644e-06, 6.44118590e-06,9.38535389e-06, 3.05194686e-05, 3.52064057e-06, 1.82420605e-05]) ### das mit EXO PTFE und verbesserten PMT stems (weniger Keramik)
Neutron_lessCryo = np.asarray([3.52058038e-04, 3.31031885e-03, 2.19820458e-03, 1.40370277e-03,1.11114440e-03, 7.83645040e-04, 6.19520690e-04, 5.06139742e-04,4.84820912e-04, 3.56909835e-04, 3.56114127e-04, 3.06485837e-04,2.92550011e-04, 2.72611786e-04, 2.66712217e-04, 2.34204158e-04,2.92137585e-04, 2.14793753e-04, 1.88763174e-04, 1.68051730e-04,1.54945202e-04, 1.10305421e-04, 1.19217524e-04, 1.12521474e-04,1.15918591e-04, 1.18001592e-04, 9.55303325e-05, 1.07081780e-04,8.42696660e-05, 8.32351245e-05, 1.08522152e-04, 7.86376756e-05,1.01724649e-04, 9.61932287e-05, 7.92538853e-05, 7.71704667e-05,7.82233357e-05, 9.03443999e-05, 7.40833326e-05, 4.45983449e-05,8.43872450e-05, 7.86926131e-05, 5.13629207e-05, 6.67342554e-05,4.91824603e-05, 3.28066516e-05, 4.87952577e-05, 4.52205450e-05,4.24923034e-05, 5.45309465e-05, 5.84396681e-05, 4.52340273e-05,4.01896898e-05, 4.69595087e-05, 4.93210938e-05, 2.76061119e-05,4.27497354e-05, 4.70100482e-05, 3.98211551e-05, 2.92238817e-05,4.50670565e-05, 2.19819280e-05, 3.22042640e-05, 1.52506485e-05,2.29575503e-05, 1.81938456e-05, 3.39710750e-05, 2.38897872e-05,1.55393108e-05, 2.14819070e-05, 1.35267821e-05, 4.07512451e-05,5.31524929e-06, 5.43456905e-06, 3.79427535e-05, 3.18574998e-05,9.96252714e-06, 3.72934642e-06, 1.70702810e-05, 6.87001697e-06,2.38500669e-05, 2.00774842e-05, 1.03063166e-05, 1.45531130e-05,7.84788746e-06, 1.12338428e-05, 8.95305409e-06, 1.88112020e-05,7.51323251e-06, 6.21224627e-06, 5.44761362e-06, 1.50678002e-05,1.50825202e-05, 8.41477306e-06, 7.21748927e-06, 6.44118466e-06,1.05414422e-05, 1.92981100e-05, 1.61409518e-06, 1.28271941e-05]) ### und das wenn man zus√§tzlich zu PTFE und PMT es noch irgendwie schaffen w√ºrde, den Background vom Cryostaten um einen Faktor 2 zu verringern.

Die x-Steps dieser Daten m√ºssten genau gleich sein wie die Daten, die du schon zeigst.
Ansonsten habe ich nicht viel zu sagen, sollte alles im angeh√§ngten pdf-Dokument erkl√§rt sein. Melde dich bitte, sobald was unklar ist oder ich dir irgendwie sonst weiterhelfen kann (auch wenn ich nochmal was lesen soll). Ich habe n√§mlich noch bis zum 9. Januar frei ‚Äì ein absoluter Traum dieses Arbeitsleben üòÉ.
Ach, s√§mtliche Antworten bitte wieder an meine Mailadresse julia.dierle@gmail.com. Ich bin gerade n√§mlich an Marcis Laptop und kenne meine Passw√∂rter nicht auswendig, sodass ich von seinem Mailaccount schreiben muss.

Ganz viel Kraft an dich f√ºr den Endspurt und du kannst sicher sein, dass du eine tolle Arbeit einreichen wirst!!
Dicker Dr√ºcker an Herrn (bald Dr.) Wiebe von Frau Dr. Dierle

"""


# imports
import numpy as np


# definitions
abspath_resources = "/home/daniel/Desktop/arbeitsstuff/sfs/github_repo_v2/resources/"
profile_dict = {
    "nr_neutrons_new_baseline" : np.asarray([8.09221119e-04, 8.31871191e-03, 5.83137730e-03, 3.82525361e-03,2.76604318e-03, 2.26129394e-03, 1.70446212e-03, 1.34006818e-03,1.17574450e-03, 1.06087376e-03, 9.64208970e-04, 8.90957610e-04,8.16549163e-04, 8.79589349e-04, 7.04846757e-04, 6.29818844e-04,7.86016614e-04, 6.16472301e-04, 5.24432408e-04, 4.71841361e-04,5.29304476e-04, 4.07885844e-04, 4.16958443e-04, 3.90780292e-04,3.52902859e-04, 4.12992583e-04, 3.31102287e-04, 3.13121405e-04,3.22595661e-04, 2.76422885e-04, 3.12469214e-04, 2.83889002e-04,2.73838127e-04, 2.97623884e-04, 2.02451144e-04, 2.64546428e-04,2.51020735e-04, 2.88712416e-04, 2.43486047e-04, 1.86816346e-04,2.39981736e-04, 2.41776287e-04, 2.01560473e-04, 2.04044726e-04,1.15197913e-04, 1.48061764e-04, 1.55639293e-04, 1.71203060e-04,1.55398146e-04, 2.51661249e-04, 1.86896221e-04, 2.15500798e-04,1.99653658e-04, 1.97009358e-04, 2.14091344e-04, 1.66696663e-04,1.65139006e-04, 1.73238153e-04, 1.11762317e-04, 1.23994609e-04,1.55592628e-04, 1.01310944e-04, 1.30707866e-04, 6.08538256e-05,5.61864862e-05, 4.82108132e-05, 8.22917649e-05, 6.99906294e-05,6.55963685e-05, 6.21768102e-05, 6.61299656e-05, 9.63390264e-05,4.12931448e-05, 2.22717200e-05, 7.71709093e-05, 6.71275911e-05,6.36231772e-05, 2.14666098e-05, 6.47328868e-05, 5.46312077e-05,6.56424601e-05, 5.88830503e-05, 2.25617580e-05, 4.35822358e-05,3.22267682e-05, 4.17083425e-05, 2.87919313e-05, 2.81953507e-05,3.69969601e-05, 1.79897371e-05, 1.41704538e-05, 3.43872295e-05,3.52408143e-05, 4.25085216e-05, 2.58296892e-05, 2.17310745e-05,1.30848732e-05, 3.75114903e-05, 1.59902279e-05, 2.87837262e-05]),
    "nr_neutrons_new_improved_ptfe_and_pmts" : np.asarray([5.03674706e-04, 5.01451796e-03, 3.35307671e-03, 2.15287429e-03,1.60172253e-03, 1.36477353e-03, 9.61424545e-04, 6.73419815e-04,6.77678177e-04, 6.10216700e-04, 5.73593070e-04, 4.81963980e-04,4.84174276e-04, 4.95754558e-04, 4.20028011e-04, 3.67768837e-04,4.68997504e-04, 2.97492206e-04, 2.71591236e-04, 2.66651942e-04,2.71446425e-04, 1.72062283e-04, 1.58935473e-04, 1.74654201e-04,1.60317353e-04, 1.75254747e-04, 1.43722657e-04, 1.59054470e-04,1.29047396e-04, 1.24074942e-04, 1.65527450e-04, 1.26618846e-04,1.39745820e-04, 1.36920240e-04, 1.06381218e-04, 1.20805263e-04,1.05077545e-04, 1.35218251e-04, 1.18974079e-04, 6.79698658e-05,1.42068643e-04, 1.24573542e-04, 7.33198946e-05, 9.38113563e-05,7.98944058e-05, 4.19460694e-05, 6.69686204e-05, 6.71872751e-05,7.38168868e-05, 1.41905882e-04, 8.38635404e-05, 1.16136912e-04,9.42025112e-05, 7.69754618e-05, 9.57387112e-05, 4.89446829e-05,7.02924084e-05, 1.06997460e-04, 4.03683554e-05, 4.26659076e-05,9.07112906e-05, 4.59171280e-05, 4.83850743e-05, 2.07435658e-05,3.01092100e-05, 2.27682613e-05, 4.21597294e-05, 3.27748782e-05,2.30944945e-05, 3.39071913e-05, 1.32096618e-05, 6.49327576e-05,7.62272697e-06, 8.50409373e-06, 5.76110014e-05, 3.75590170e-05,3.06519889e-05, 9.73369953e-06, 2.53476297e-05, 1.32806671e-05,4.52955688e-05, 3.15406293e-05, 1.81090674e-05, 2.57693257e-05,7.85968667e-06, 1.64668833e-05, 8.58792597e-06, 8.63681977e-06,8.41528399e-06, 1.64723504e-05, 5.58748071e-06, 1.74297633e-05,1.94984381e-05, 8.17837337e-06, 8.87597644e-06, 6.44118590e-06,9.38535389e-06, 3.05194686e-05, 3.52064057e-06, 1.82420605e-05]),
    "nr_neutrons_new_improved_ptfe_and_pmts_and_cryo" : np.asarray([3.52058038e-04, 3.31031885e-03, 2.19820458e-03, 1.40370277e-03,1.11114440e-03, 7.83645040e-04, 6.19520690e-04, 5.06139742e-04,4.84820912e-04, 3.56909835e-04, 3.56114127e-04, 3.06485837e-04,2.92550011e-04, 2.72611786e-04, 2.66712217e-04, 2.34204158e-04,2.92137585e-04, 2.14793753e-04, 1.88763174e-04, 1.68051730e-04,1.54945202e-04, 1.10305421e-04, 1.19217524e-04, 1.12521474e-04,1.15918591e-04, 1.18001592e-04, 9.55303325e-05, 1.07081780e-04,8.42696660e-05, 8.32351245e-05, 1.08522152e-04, 7.86376756e-05,1.01724649e-04, 9.61932287e-05, 7.92538853e-05, 7.71704667e-05,7.82233357e-05, 9.03443999e-05, 7.40833326e-05, 4.45983449e-05,8.43872450e-05, 7.86926131e-05, 5.13629207e-05, 6.67342554e-05,4.91824603e-05, 3.28066516e-05, 4.87952577e-05, 4.52205450e-05,4.24923034e-05, 5.45309465e-05, 5.84396681e-05, 4.52340273e-05,4.01896898e-05, 4.69595087e-05, 4.93210938e-05, 2.76061119e-05,4.27497354e-05, 4.70100482e-05, 3.98211551e-05, 2.92238817e-05,4.50670565e-05, 2.19819280e-05, 3.22042640e-05, 1.52506485e-05,2.29575503e-05, 1.81938456e-05, 3.39710750e-05, 2.38897872e-05,1.55393108e-05, 2.14819070e-05, 1.35267821e-05, 4.07512451e-05,5.31524929e-06, 5.43456905e-06, 3.79427535e-05, 3.18574998e-05,9.96252714e-06, 3.72934642e-06, 1.70702810e-05, 6.87001697e-06,2.38500669e-05, 2.00774842e-05, 1.03063166e-05, 1.45531130e-05,7.84788746e-06, 1.12338428e-05, 8.95305409e-06, 1.88112020e-05,7.51323251e-06, 6.21224627e-06, 5.44761362e-06, 1.50678002e-05,1.50825202e-05, 8.41477306e-06, 7.21748927e-06, 6.44118466e-06,1.05414422e-05, 1.92981100e-05, 1.61409518e-06, 1.28271941e-05]),
}


# retrieving the energy values
energy_kev_list = []
with open(abspath_resources+"nr_neutrons_baseline_old.csv", "r") as e_file:
    for line in e_file:
        if "#" not in line:
            e_kev = float(list(line.split(","))[0])
            energy_kev_list.append(e_kev)


# writing the SFS resource files
for key, val in profile_dict.items():
    with open(abspath_resources+key+".csv", "w") as csv_file:
        for i, recoil_energy_kev_nr in enumerate(energy_kev_list):
            diffrate_events_t_y = val[i]
            print(f"{i}: {recoil_energy_kev_nr:.1f} keV_NR <--> {diffrate_events_t_y} events/(t x y)")
            csv_file.write(f"{recoil_energy_kev_nr:.1f}, {diffrate_events_t_y}\n")









